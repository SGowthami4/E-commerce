generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  id                 Int         @id @default(autoincrement())
  username           String
  password           String
  role               String
  email              String      @unique
  registrationStatus Boolean     @default(false)

 products       Products[]  
 WishListItems      WishList[]
  cart               cartItems[]
  order              Orders[]
}

model Products {
  product_id       Int            @id @default(autoincrement())
  title            String
  description      String
  category         String
  price            Float
  quantity         Int
  image            String
  sellerId         Int            
  soldCount        Int            @default(0)
  tags             String[]
 Users       Users   @relation(fields: [sellerId], references: [id])
  wishListProducts WishList[]
  cartProducts     cartItems[]
  order            Orders[]
}

model cartItems {
  cartId       Int      @id @default(autoincrement())
  userId       Int
  productId    Int
  quantity     Int
  cartProducts Products @relation(fields: [productId], references: [product_id])
  customerId   Users    @relation(fields: [userId], references: [id])
}

model WishList {
  id           Int      @id @default(autoincrement())
  userId       Int
  productId    Int
  cartProducts Products @relation(fields: [productId], references: [product_id])
  customerId   Users    @relation(fields: [userId], references: [id])
}

model Orders{
  id Int @id @default(autoincrement())
  userId Int
  user Users @relation(fields: [userId],references: [id])
  productId Int
  product Products @relation(fields: [productId],references: [product_id])
  totalAmount Float
  status Boolean
  createdAt DateTime @default(now())
}